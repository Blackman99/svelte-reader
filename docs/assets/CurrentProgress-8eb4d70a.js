import{S as y,i as $,s as b,e as m,c as C,j as w,k as P,f as _,a as i,b as R,l as g,m as S,p as h,t as k,g as z,d as F,h as L,r as j}from"./index-70cf4e1e.js";import{S as q}from"./SvelteReader-46b733b3.js";function M(p){let r,c,a,l,t,n,v,s,o,f,u;return a=new q({props:{getRendition:p[1],url:"/svelte-reader/files/啼笑因缘.epub"}}),{c(){r=m("div"),c=m("div"),C(a.$$.fragment),l=w(),t=m("div"),n=m("input"),v=P(`%\r
    `),s=m("input"),_(c,"height","100vh"),i(n,"type","number"),n.value=p[0],i(n,"min",0),i(n,"max",100),i(n,"class","svelte-15anzw4"),i(s,"type","range"),s.value=p[0],i(s,"min",0),i(s,"max",100),i(s,"step",1),i(s,"class","svelte-15anzw4"),i(t,"class","progress svelte-15anzw4"),_(r,"position","relative")},m(e,d){R(e,r,d),g(r,c),S(a,c,null),g(r,l),g(r,t),g(t,n),g(t,v),g(t,s),o=!0,f||(u=[h(n,"change",p[2]),h(s,"change",p[2])],f=!0)},p(e,[d]){(!o||d&1&&n.value!==e[0])&&(n.value=e[0]),(!o||d&1)&&(s.value=e[0])},i(e){o||(k(a.$$.fragment,e),o=!0)},o(e){z(a.$$.fragment,e),o=!1},d(e){e&&F(r),L(a),f=!1,j(u)}}}function A(p,r,c){let a=0,l,t,n;return[a,o=>{l=o,t=l.book,n=l.display(),t.ready.then(()=>t.locations.generate(1600)).then(f=>{n.then(function(){var u=l.currentLocation();const e=t.locations.percentageFromCfi(u.start.cfi);c(0,a=e)}),l.on("relocated",u=>{const e=t.locations.percentageFromCfi(u.start.cfi),d=Math.floor(e*100);c(0,a=d)})})},o=>{const f=o.target.value;c(0,a=f);var u=t.locations.cfiFromPercentage(f/100);l.display(u)}]}class E extends y{constructor(r){super(),$(this,r,A,M,b,{})}}export{E as default};
