import{S as v,i as b,s as h,e as $,c as y,k as C,l as S,f as R,a as D,b as m,m as P,g as j,o as k,t as q,h as w,d as _,j as L}from"./index-2aeb8b85.js";import{S as x}from"./SvelteReader-55cb765b.js";function z(r){let a,t,c,s,u,l;return t=new x({props:{url:"/svelte-reader/files/啼笑因缘.epub",getRendition:r[2],tocChanged:r[4]}}),t.$on("update:location",r[3]),{c(){a=$("div"),y(t.$$.fragment),c=C(),s=$("div"),u=S(r[1]),R(a,"height","100vh"),D(s,"class","page svelte-ut49mg")},m(e,o){m(e,a,o),P(t,a,null),m(e,c,o),m(e,s,o),j(s,u),l=!0},p(e,[o]){const d={};o&1&&(d.tocChanged=e[4]),t.$set(d),(!l||o&2)&&k(u,e[1])},i(e){l||(q(t.$$.fragment,e),l=!0)},o(e){w(t.$$.fragment,e),l=!1},d(e){e&&_(a),L(t),e&&_(c),e&&_(s)}}}function A(r,a,t){let c=null,s=[],u="";const l=n=>c=n,e=(n,g)=>{console.log(n);let f="n/a";return n.some(i=>{if(i.subitems.length>0){const p=e(i.subitems,g);if(p!=="n/a")return f=p,!0}else if(i.href.includes(g))return f=i.label,!0}),f};return[s,u,l,n=>{if(console.log(n.detail),n.detail){const{displayed:f,href:i}=c.location.start;if(i!=="titlepage.xhtml"){const p=e(s,i);t(1,u=`${f.page}/${f.total} ${p}`)}}},n=>t(0,s=n)]}class F extends v{constructor(a){super(),b(this,a,A,z,h,{})}}export{F as default};
